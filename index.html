<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>
  <style>
    :root{
      --bg1:#ffe6ef;
      --bg2:#ff9fb7;
      --card:#ffffffcc;
      --text:#1f1f1f;
      --accent:#ff2e6a;
      --accent2:#ff7aa2;
      --shadow: 0 18px 60px rgba(0,0,0,.12);

      /* red mode (ink) */
      --red1:#7c0016;
      --red2:#ff2e6a;

      /* among-us UI */
      --ui1:#1b1f2a;
      --ui2:#0f121a;
      --uiStroke:#3a4157;
      --uiGlow: rgba(255, 46, 106, .22);
    }

    *{box-sizing:border-box;}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 30% 20%, #ffffff90, transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* Floating hearts */
    .hearts{ position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:0; }
    .heart{
      position:absolute;
      width:18px; height:18px;
      transform: rotate(45deg);
      opacity:.85;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.08));
      animation: floatUp linear forwards;
      color: var(--accent);
    }
    .heart::before,.heart::after{
      content:"";
      position:absolute;
      width:18px; height:18px;
      background: currentColor;
      border-radius:50%;
    }
    .heart{ background: currentColor; border-radius:4px; }
    .heart::before{ left:-9px; top:0; }
    .heart::after{ left:0; top:-9px; }

    @keyframes floatUp{
      from { transform: translateY(35vh) rotate(45deg) scale(var(--s)); opacity:0; }
      10% { opacity:.9; }
      to { transform: translateY(-130vh) rotate(45deg) scale(var(--s)); opacity:0; }
    }

    /* Card */
    .card{
      width:min(560px, 92vw);
      padding:28px 22px 22px;
      border-radius:24px;
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid #ffffffaa;
      box-shadow: var(--shadow);
      text-align:center;
      opacity:0;
      transform: translateY(12px) scale(.98);
      animation: popIn .9s cubic-bezier(.2,.9,.2,1) forwards;
      position:relative;
      z-index:2;
    }
    @keyframes popIn{ to { opacity:1; transform: translateY(0) scale(1); } }

    /* alarm shake when sabotage toggles ON */
    .card.alarm{
      animation: cardShake .32s ease-in-out 0s 2;
    }
    @keyframes cardShake{
      0%   { transform: translateY(0) rotate(0deg); }
      20%  { transform: translateY(-1px) rotate(-0.4deg); }
      40%  { transform: translateY(1px) rotate(0.5deg); }
      60%  { transform: translateY(-1px) rotate(-0.3deg); }
      80%  { transform: translateY(1px) rotate(0.4deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    h1{
      margin:0 0 10px;
      font-size: clamp(28px, 4vw, 44px);
      letter-spacing:-0.02em;
      line-height:1.05;
    }
    .subtitle{
      margin:0 auto 18px;
      max-width:44ch;
      font-size: 15px;
      opacity:.85;
    }

    .btn{
      appearance:none;
      border:0;
      cursor:pointer;
      padding:14px 22px;
      border-radius:999px;
      font-weight:900;
      font-size:16px;
      color:white;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 14px 28px rgba(255, 46, 106, .28);
      transform: translateY(0);
      transition: transform .12s ease, filter .12s ease, opacity .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: translateY(2px) scale(.99); filter: brightness(.98); }
    .btn[disabled]{ cursor: default; opacity:.9; }

    .disclaimer{
      margin: 12px auto 0;
      font-size: 13px;
      opacity:.75;
    }

    .fromLine{
      margin: 14px auto 0;
      font-size: 13px;
      opacity:.8;
      font-weight:800;
    }

    .success{
      margin-top:14px;
      font-weight:900;
      opacity:0;
      transform: translateY(6px);
      transition: .35s ease;
    }
    .success.show{
      opacity:1;
      transform: translateY(0);
    }

    /* Confetti canvas */
    #confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:10;
    }

    /* Red INK drip overlay (looping) */
    .inkOverlay{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:15;
      opacity:0;
      transition: opacity .18s ease;
    }
    .inkOverlay.active{ opacity:1; }

    /* Top sheet */
    .dripTop{
      position:absolute;
      left:0; top:-45%;
      width:100%;
      height:60%;
      background: linear-gradient(180deg, var(--red1), var(--red2));
      border-bottom-left-radius: 44px;
      border-bottom-right-radius: 44px;
      transform: translateY(-60%);
      filter: drop-shadow(0 16px 30px rgba(0,0,0,.18));
      animation:none;
    }

    /* Drip blobs edge */
    .dripTop::after{
      content:"";
      position:absolute;
      left:0; bottom:-28px;
      width:100%;
      height:140px;
      background:
        radial-gradient(circle at 8% 20%,  var(--red2) 0 48px, transparent 49px),
        radial-gradient(circle at 22% 60%, #d8002c 0 62px, transparent 63px),
        radial-gradient(circle at 40% 25%, var(--red2) 0 54px, transparent 55px),
        radial-gradient(circle at 58% 70%, #d8002c 0 68px, transparent 69px),
        radial-gradient(circle at 76% 30%, var(--red2) 0 58px, transparent 59px),
        radial-gradient(circle at 92% 70%, #d8002c 0 66px, transparent 67px);
      opacity:.96;
      filter: blur(.25px);
    }

    /* Secondary streaks */
    .streaks{
      position:absolute;
      inset:0;
      opacity:.86;
      mix-blend-mode:multiply;
      filter: blur(.2px);
      display:none;
    }
    .inkOverlay.active .streaks{ display:block; }

    .streak{
      position:absolute;
      top:-25vh;
      width: clamp(10px, 2vw, 22px);
      height: 140vh;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,.14), transparent 15%),
                  linear-gradient(180deg, var(--red1), var(--red2));
      opacity:.55;
      animation: streakFall linear infinite;
    }
    @keyframes streakFall{
      0%   { transform: translateY(-30vh); }
      100% { transform: translateY(30vh); }
    }

    /* Main drip enters once */
    .inkOverlay.active .dripTop{
      animation: dripDown 1.05s cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes dripDown{
      0%   { transform: translateY(-65%); }
      65%  { transform: translateY(18%); }
      85%  { transform: translateY(12%); }
      100% { transform: translateY(16%); }
    }

    /* Screen vignette + alarm pulse */
    .vignette{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      background: radial-gradient(800px 520px at 50% 40%, transparent 55%, rgba(0,0,0,.10));
    }
    .alarmPulse{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:12;
      opacity:0;
      background: radial-gradient(900px 620px at 50% 40%, transparent 60%, rgba(255, 46, 106, .28));
      mix-blend-mode:multiply;
      transition: opacity .2s ease;
    }
    .alarmPulse.active{
      opacity:1;
      animation: pulse 1.1s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100% { transform: scale(1); filter: saturate(1); }
      50%     { transform: scale(1.02); filter: saturate(1.2); }
    }

    /* Among Us style SABOTAGE panel button */
    .sabotagePanel{
      position:fixed;
      right:14px;
      bottom:14px;
      z-index:25;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid var(--uiStroke);
      background: linear-gradient(180deg, var(--ui1), var(--ui2));
      box-shadow:
        0 16px 40px rgba(0,0,0,.26),
        inset 0 1px 0 rgba(255,255,255,.08),
        inset 0 -10px 24px rgba(0,0,0,.25);
      display:flex;
      align-items:center;
      gap:10px;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .sabotagePanel:hover{
      box-shadow:
        0 16px 40px rgba(0,0,0,.28),
        0 0 0 6px var(--uiGlow),
        inset 0 1px 0 rgba(255,255,255,.09),
        inset 0 -10px 24px rgba(0,0,0,.25);
    }

    .panelIcon{
      width:42px;
      height:42px;
      border-radius:14px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.18), transparent 55%),
        radial-gradient(circle at 60% 70%, rgba(0,0,0,.25), transparent 60%),
        linear-gradient(135deg, #ff5a7a, var(--red1));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: inset 0 -10px 18px rgba(0,0,0,.22);
      display:grid;
      place-items:center;
      position:relative;
      overflow:hidden;
    }
    /* ‚Äúhazard‚Äù stripes */
    .panelIcon::after{
      content:"";
      position:absolute;
      inset:-10px;
      background: repeating-linear-gradient(
        135deg,
        rgba(0,0,0,.0) 0 8px,
        rgba(0,0,0,.18) 8px 16px
      );
      opacity:.55;
      transform: rotate(6deg);
    }
    .panelDot{
      width:12px;
      height:12px;
      border-radius:50%;
      background: radial-gradient(circle at 35% 35%, #fff8, transparent 60%),
                  radial-gradient(circle at 50% 50%, #ffd1dc, #ff2e6a 70%);
      box-shadow: 0 6px 14px rgba(0,0,0,.25);
      position:relative;
      z-index:1;
    }

    .panelText{
      color:#e9edf7;
      line-height:1.05;
    }
    .panelText strong{
      display:block;
      font-weight:1000;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:14px;
    }
    .panelText small{
      display:block;
      margin-top:3px;
      opacity:.78;
      font-weight:800;
      letter-spacing:.06em;
      font-size:11px;
      color:#cfd6ea;
    }

    .panelState{
      margin-left:10px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color:#cfd6ea;
      font-weight:900;
      font-size:11px;
      letter-spacing:.10em;
      text-transform:uppercase;
    }
    .panelState.on{
      background: rgba(255, 46, 106, .16);
      border-color: rgba(255, 46, 106, .35);
      color:#ffd4de;
      box-shadow: 0 0 0 6px rgba(255, 46, 106, .08);
    }

    @media (max-width:420px){
      .panelState{ display:none; }
      .panelIcon{ width:40px; height:40px; border-radius:14px; }
    }
  </style>
</head>

<body>
  <div class="hearts" id="hearts"></div>
  <div class="vignette"></div>
  <div class="alarmPulse" id="alarmPulse"></div>

  <canvas id="confetti"></canvas>

  <!-- Red ink overlay -->
  <div class="inkOverlay" id="inkOverlay" aria-hidden="true">
    <div class="dripTop"></div>
    <div class="streaks" id="streaks"></div>
  </div>

  <main class="card" id="card" role="main" aria-live="polite">
    <h1>Will you be my Valentine? üíò</h1>
    <p class="subtitle">I kept it simple on purpose.</p>

    <button class="btn" id="yesBtn">Yes üíñ</button>

    <p class="disclaimer">Disclaimer: There is only one option üòå</p>
    <div class="success" id="successMsg">Yay! üíû You just made my day!</div>

    <div class="fromLine">From: BA (Band Eke Hora Shot Eka)</div>
  </main>

  <!-- Among Us-ish SABOTAGE panel -->
  <button class="sabotagePanel" id="sabotageBtn" title="Among Us vibes (safe)">
    <div class="panelIcon" aria-hidden="true"><div class="panelDot"></div></div>
    <div class="panelText">
      <strong>SABOTAGE</strong>
      <small>Red drip mode</small>
    </div>
    <div class="panelState" id="panelState">OFF</div>
  </button>

  <script>
    // Floating hearts generator
    const hearts = document.getElementById('hearts');
    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'heart';
      const left = Math.random() * 100;
      const dur = 6 + Math.random() * 7;
      const size = 0.6 + Math.random() * 1.4;
      const hueShift = (Math.random() * 12) - 6;
      h.style.left = left + 'vw';
      h.style.bottom = (-10 - Math.random()*20) + 'vh';
      h.style.animationDuration = dur + 's';
      h.style.setProperty('--s', size.toFixed(2));
      h.style.color = `hsl(${350 + hueShift}, 95%, ${55 + Math.random()*8}%)`;
      hearts.appendChild(h);
      setTimeout(()=>h.remove(), dur*1000);
    }
    setInterval(spawnHeart, 280);
    for(let i=0;i<14;i++) setTimeout(spawnHeart, i*120);

    // Confetti (canvas)
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');

    function resize(){
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = window.innerHeight + 'px';
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    }
    window.addEventListener('resize', resize);
    resize();

    let confetti = [];
    let confettiOn = false;

    function burstConfetti(){
      confettiOn = true;
      confetti = [];
      const n = 220;
      for(let i=0;i<n;i++){
        confetti.push({
          x: window.innerWidth/2 + (Math.random()*80 - 40),
          y: window.innerHeight/2 + (Math.random()*20 - 10),
          vx: (Math.random()*7 - 3.5),
          vy: (Math.random()*-9 - 2),
          g: 0.22 + Math.random()*0.08,
          r: 2 + Math.random()*4,
          a: 1,
          spin: (Math.random()*0.25 - 0.125),
          ang: Math.random()*Math.PI*2,
          col: `hsl(${Math.floor(330 + Math.random()*40)}, 95%, ${55 + Math.random()*10}%)`
        });
      }
      requestAnimationFrame(tickConfetti);
      setTimeout(()=>{ confettiOn = false; }, 1600);
    }

    function tickConfetti(){
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
      let alive = 0;
      for(const p of confetti){
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.ang += p.spin;
        p.a *= 0.985;

        if(p.y < window.innerHeight + 40 && p.a > 0.06){
          alive++;
          ctx.save();
          ctx.globalAlpha = p.a;
          ctx.translate(p.x, p.y);
          ctx.rotate(p.ang);
          ctx.fillStyle = p.col;
          ctx.fillRect(-p.r, -p.r, p.r*2.2, p.r*1.2);
          ctx.restore();
        }
      }
      if(confettiOn || alive > 0){
        requestAnimationFrame(tickConfetti);
      } else {
        ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
      }
    }

    // Yes button
    const yesBtn = document.getElementById('yesBtn');
    const successMsg = document.getElementById('successMsg');
    yesBtn.addEventListener('click', ()=>{
      burstConfetti();
      successMsg.classList.add('show');
      yesBtn.disabled = true;
      yesBtn.textContent = "YES ‚úÖ";
    });

    // SABOTAGE: red drip + alarm pulse + little shake
    const sabotageBtn = document.getElementById('sabotageBtn');
    const panelState = document.getElementById('panelState');
    const inkOverlay = document.getElementById('inkOverlay');
    const streaks = document.getElementById('streaks');
    const alarmPulse = document.getElementById('alarmPulse');
    const card = document.getElementById('card');

    let inkOn = false;

    function buildStreaks(){
      streaks.innerHTML = "";
      const count = 11;
      for(let i=0;i<count;i++){
        const s = document.createElement('div');
        s.className = 'streak';
        s.style.left = (Math.random()*100) + 'vw';
        s.style.opacity = (0.25 + Math.random()*0.45).toFixed(2);
        s.style.animationDuration = (2.2 + Math.random()*2.4).toFixed(2) + 's';
        s.style.animationDelay = (-Math.random()*2.5).toFixed(2) + 's';
        s.style.transform = `translateY(${-30 - Math.random()*20}vh)`;
        streaks.appendChild(s);
      }
    }

    function blinkCard(){
      card.classList.remove('alarm');
      // trigger reflow to restart animation
      void card.offsetWidth;
      card.classList.add('alarm');
      setTimeout(()=>card.classList.remove('alarm'), 700);
    }

    sabotageBtn.addEventListener('click', ()=>{
      inkOn = !inkOn;

      if(inkOn){
        buildStreaks();
        inkOverlay.classList.add('active');
        alarmPulse.classList.add('active');

        panelState.textContent = "ON";
        panelState.classList.add('on');

        blinkCard();
      }else{
        inkOverlay.classList.remove('active');
        alarmPulse.classList.remove('active');

        panelState.textContent = "OFF";
        panelState.classList.remove('on');
      }
    });

    // keep it "flowing"
    setInterval(()=>{
      if(inkOn) buildStreaks();
    }, 2600);
  </script>
</body>
</html>
